{% extends "layout.html" %}

{% block title %}
  profile
{% endblock %}

{% block js %}
  <script type="text/javascript">
    var SongData = {{ Songdatas | safe }};
    var UserId = {{ user_id | safe }};
  </script>

  <script type="text/javascript" src="/static/js/profile.js"></script>
{% endblock %}

{% block main %}
  <h1>Profile</h1>

  <!-- ユーザー情報 -->
  <p>ログインユーザーID{{  user_id  }}</p>
  {% if user_info %}
  <p id = "display_user_id">{{  user_info["id"]  }}</p>
  <p>プロフィールユーザー{{  user_info["name"]  }}</p>
  <p>follow {{ user_info["follow_number"] }}</p>
  <p>follower {{ user_info["followed_number"] }}</p>
    {% if user_info["following"] == True %}
    <button type="button" value="button" id = "cancell" >cancell</button>
    {% elif user_info["following"] == False %}
    <button type="button" value="button" id = "follow">follow</button>
    {% elif user_info["following"] == "Myself" %}
    <p>My profile</p>
    {% else %}
    <p>error</p>
    {% endif %}
    {% if user_info["songlists"] %}
    <ul>
      {% for songlist in user_info["songlists"] %}
        <li>{{ songlist }}</li>
      {% endfor %}
    </ul>
    {% endif %}
  {% endif %}
  
    <!-- ログアウト -->
    <li class="nav-item"><a class="nav-link" href="/logout">Log out</a></li>
  
  <!-- 表示期間切替 -->  
  <!-- カレンダー html -->
  <div class="input-daterange input-group" id="datepicker"> 
      <div class="input-group-prepend">
        <span class="input-group-text">開始日付</span>
      </div>
      <!-- <input type="text" class="input-sm form-control" name="from" id="from" autocomplete="off"> -->
      <input type="date" name="from" id="from"  value = "{{nowdisplayfrom}}" autocomplete="off">

      <div class="input-group-append">
        <span class="input-group-text">終了日付</span>
      </div>
      <!-- <input type="text" class="input-sm form-control" name="to" id="to" autocomplete="off"> -->
      <input type="date" name="to" id="to" value = "{{nowdisplayto}}" autocomplete="off">

      <button type="submit"  onClick="period();"> 指定期間表示</button>
      <button onclick="location.href='/profile'">全期間表示</button>
  </div> 

    <!--MAP表示  -->

  <div id="map"></div>
  <script async defer src="{{GOOGLEMAPURL}}&callback=initMap"></script>
  <style>
    #map{
      height: 900px;
      width: 800px;
      margin: 0 auto;
    }
  </style>

  <!-- 現在地取得 -->
  <div>
    <p>
      <select name="emotion" id = "emotion" size="4" required>
      <option value="嬉しい">嬉しい</option>
      <option value="楽しい">楽しい</option>
      <option value="落ち着き">落ち着き</option>
      <option value="悲しい">悲しい</option>
      </select>
    </p>

    <label for="comment"></label>
    <textarea id="comment" name="comment" placeholder="今の気持ち、出来事を任意で入力してください！" style="margin: 0px; width: 346px; height: 95px;"></textarea>
    <button type="button" value="button" id = "location" >位置・曲情報取得</button>
</div>

<div id="return"></div>

<!-- addingのボタン -->
<li class="nav-item"><a class="nav-link" href="/adding">adding</a></li>

<!-- ここからJS -->

{% endblock %}